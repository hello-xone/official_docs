import { Steps, Tabs } from 'nextra/components';

# 下载并安装 Xone Chain 全节点二进制文件及配置

<Steps>
### 1. 前提条件

*   一台 Linux 服务器（推荐 Ubuntu 22.04+）
*   已安装 `wget` 和 `unzip`
*   拥有 `sudo` 权限


### 2. 下载最新的二进制文件和配置包

```bash showLineNumbers copy
# 切换到临时目录
cd /tmp

# 下载最新的 Xone Chain 节点二进制文件
VERSION=$(curl -s https://xone-mainnet-files.s3.ap-southeast-1.amazonaws.com/latest-version.txt)
wget -O xoned-${VERSION}-linux-amd64 https://xone-mainnet-files.s3.ap-southeast-1.amazonaws.com/xoned-${VERSION}-linux-amd64

# 下载官方配置模板
wget https://xone-mainnet-files.s3.ap-southeast-1.amazonaws.com/config.zip
```

> **提示**：可选地验证 SHA256 校验和以确保文件未被篡改。


### 3. 安装二进制文件

```bash showLineNumbers copy
# 重命名可执行文件
# 注意：请将下面的版本号 (v1.0.1) 替换为您实际下载的版本。
# 例如，如果您下载的是 xoned-v1.0.3-linux-amd64，请运行：
# mv xoned-v1.0.3-linux-amd64 xoned
mv xoned-v1.0.1-linux-amd64 xoned

# 使其可执行
chmod +x xoned

# 将其移动到系统的 PATH 路径中
sudo mv xoned /usr/bin/xoned
```


### 4. 初始化数据目录

<Tabs items={['主网', '测试网']} defaultValue="主网">
  <Tabs.Tab>
  ```bash showLineNumbers copy
  # 初始化您的节点数据目录（默认为 ~/.xone）
  xoned init mynode --chain-id xone_3721-1
  ```
  </Tabs.Tab>
  <Tabs.Tab>
  ```bash showLineNumbers copy
  # 初始化您的节点数据目录（默认为 ~/.xone）
  xoned init xoned --chain-id xone_33772211-1
  ```
  </Tabs.Tab>
</Tabs>


*   `mynode` 可以替换为您喜欢的目录名称
*   这会在您的主目录下创建一个 `~/.xone` 文件夹。如果想指定自定义目录，请在 `xoned init` 命令后添加 `--home` 标志。


### 5. 应用官方配置

```bash showLineNumbers copy
# 解压配置包
unzip config.zip -d ./config

# 备份现有配置（以便需要时回滚）
cp -r ~/.xone/config ~/.xone/config.bak

# 覆盖 genesis.json, config.toml 和 app.toml
cp config/genesis.json  ~/.xone/config/genesis.json
cp config/config.toml   ~/.xone/config/config.toml
cp config/app.toml      ~/.xone/config/app.toml
```

> **注意**
>
> *   确保 `~/.xone/config` 目录下仅包含官方文件或有意识自定义的文件——移除任何额外文件。
> *   如果需要调整设置（RPC 端口、防火墙规则等），请先编辑 `config/` 目录下的文件，然后再复制覆盖。


### 6. 使用快照同步至最新进度
在当前版本中，必须通过快照进行同步，以确保快速、准确地同步到最新的节点状态。详细说明请参阅 [使用快照](/developers/operators/start/using-snapshots)。


### 7. 等待快照恢复完成后再启动节点
快照恢复完成后，您可以继续启动节点，开始与区块链网络同步。

```bash showLineNumbers copy
# 启动节点（使用 systemd 或 tmux/screen 在后台运行）
xoned start --home ~/.xone
```


### 8. 验证同步状态

```bash showLineNumbers copy
# 检查同步信息（最新区块高度、追赶状态）
xoned status --home ~/.xone --node http://127.0.0.1:26657 | jq .SyncInfo

```

</Steps>
