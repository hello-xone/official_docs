import { Steps } from 'nextra/components';
import { Link, Code } from "@nextui-org/react";
import { Callout } from 'nextra/components'

# Deploying an ERC-721 NFT Collection

This guide provides step-by-step instructions to deploy an ERC-721 (NFT) token on the **Xone Chain** for creating a unique **Fruit NFT Collection**. Each NFT represents a unique fruit, making it ideal for collectibles, games, or creative projects.

The "Fruit" collection will have:

- a total supply of 6 NFTs.
- with an initial supply of 0.
- requiring users to mint the NFTs themselves.

## Prerequisites

1. <Link className='text-primaryHue' isExternal showAnchorIcon href="https://metamask.io/">MetaMask Wallet</Link> configured for the Xone Chain network.
2. Open <Link className='text-primaryHue' isExternal showAnchorIcon href="https://remix.ethereum.org">Remix IDE</Link>.
3. Test TXOC (Xone Chain test tokens) for Gas fees. Use the <Link className='text-primaryHue' isExternal showAnchorIcon href="https://faucet.xone.plus/">Xone Faucet</Link> to get free tokens.
4. Get <Link className='text-primaryHue' isExternal showAnchorIcon href="https://www.pinata.cloud/">Pinata</Link> Account , If you have your own storage server, you can skip this step.
5. Download <Link className='text-primaryHue' isExternal showAnchorIcon href="https://github.com/huione-labs/docs/blob/main/public/zip/fruit.zip">Fruit</Link> NFT zip file.

   ![erc721](public/images/fruit_collection.png)

## Let‚Äôs get started
<Steps>
### Step 1: Create the Fruit NFT Contract
1. Open Remix IDE and create a new file under the `contracts` folder. Name it `FruitNFT.sol`.
2. Add the following code to the file:

``` js copy showLineNumbers filename="FruitNFT.sol"
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.22;
 
import "@openzeppelin/contracts/token/ERC721/ERC721.sol";
import "@openzeppelin/contracts/access/Ownable.sol";
import "@openzeppelin/contracts/utils/Counters.sol";
import "@openzeppelin/contracts/token/ERC721/extensions/ERC721URIStorage.sol";
 
contract FruitNFT is ERC721URIStorage, Ownable {
    constructor() ERC721("FruitNFT", "FRUIT") Ownable(msg.sender) {}
    using Counters for Counters.Counter;
    Counters.Counter private _tokenIds;
    uint256 public constant MAX_SUPPLY = 6;
 
    function createCollectible(string memory tokenURI) public onlyOwner returns (uint256) {
        require(_tokenIds.current() < MAX_SUPPLY, "All NFTs have been minted");
        _tokenIds.increment();
        uint256 newItemId = _tokenIds.current()-1;
        _mint(msg.sender, newItemId);
        _setTokenURI(newItemId, tokenURI);
        return newItemId;
    }
}

```
   ![erc721](public/images/erc721_0.png)

### Step 2: Compile the Smart Contract

1. Click on the „Äê**Solidity Compiler**„Äë tab on the left sidebar.

2. Select the appropriate compiler version (0.8.x). Example: `0.8.26+commit.8a97fa7a`.

3. Click on „Äê**Advanced Configurations**„Äë to expand the advanced settings.

4. Choose EVM Version „Äê**Paris**„Äë.

5. Enable optimization (default 200).

6. Click „Äê**Compile FruitNFT.sol**„Äë button. Ensure there are no compilation errors.

![erc721](public/images/erc721_1.png)

### Step 3: Deploy the Smart Contract

1. Navigate to the „Äê**Deploy & Run Transactions**„Äë tab in Remix.

2. In the „Äê**ENVIRONMENT**„Äë dropdown, select „Äê**Injected Web3**„Äë to connect Remix to your MetaMask wallet.

3. Select the FruitNFT contract from the dropdown menu.

4. Click „Äê**Deploy**„Äë and confirm the transaction in your MetaMask wallet.

![erc721](public/images/erc721_2.png)

### Step 4: View contract address

After confirmation, you will see the deployed contract address in the Remix console. Let‚Äôs take a look at the demo we built: <Link className='text-primaryHue' isExternal showAnchorIcon href="https://testnet.xscscan.com/token/0x7e2484104F9648Aa233d85d57A2bD0f0Fa82413E">FruitNFT</Link>


![erc721](public/images/erc721_3.png)

### Step 5: Store NFT Metadata with Pinata.cloud

1. Sign Up and Log In to <Link className='text-primaryHue' isExternal showAnchorIcon href="https://www.pinata.cloud/">Pinata</Link>. sign up for an account if you don't have one.


2. Click on „Äê**Upload**„Äë in the Pinata dashboard and select „Äê**Folder**„Äë.

![erc721](public/images/erc721_4.png)

3. Upload the „Äê**FruitNFT**„Äë source file.

![erc721](public/images/erc721_5.png)

<Callout emoji="üí°">
  Note this CID URL <Code color="default">https://blue-tricky-fly-90.mypinata.cloud/ipfs/QmfXqRkyu3qYdYz5zWaFTaHNYqPBtUY7Q7MWPiu3An377q/</Code> as it will be used when minting the NFT.
</Callout>

4. Create Metadata JSON File

Create a JSON file with the following structure.

``` js showLineNumbers copy filename="example.sol"
{
  "name": "FruitNFT #0",
  "description": "This is an apple.",
  "image": "https://blue-tricky-fly-90.mypinata.cloud/ipfs/QmfXqRkyu3qYdYz5zWaFTaHNYqPBtUY7Q7MWPiu3An377q/apple.png"
}
```

>  Download <Link className='text-primaryHue' isExternal showAnchorIcon href="https://github.com/huione-labs/docs/blob/main/public/images/zip/FruitNFT_metadata.zip">FruitNFT</Link> Metadata source file.

![erc721](public/images/erc721_6.png)

Upload Metadata JSON to Pinata.cloud

![erc721](public/images/erc721_7.png)

### Step 6: Mint an NFT with Metadata

1. Call the <Code color="default">createCollectible</Code> function.

2. Enter the TokenURI of the metadata stored on Pinata (e.g., if you want to mint FruitNFT #0: <Code color="default">https://blue-tricky-fly-90.mypinata.cloud/ipfs/QmfXqRkyu3qYdYz5zWaFTaHNYqPBtUY7Q7MWPiu3An377q/apple.png</Code>).

3. Click „Äê**Transact**„Äë and confirm the transaction in your MetaMask wallet.

![erc721](public/images/erc721_8.png)

4. View <Link className='text-primaryHue' isExternal showAnchorIcon href="https://testnet.xscscan.com/token/0x7e2484104F9648Aa233d85d57A2bD0f0Fa82413E/instance/0">FruitNFT #0</Link> on the Xone explorer.

![erc721](public/images/erc721_9.png)

</Steps>

## Demo Resources

- <Link className='text-primaryHue' isExternal showAnchorIcon href="https://testnet.xscscan.com/token/0x7e2484104F9648Aa233d85d57A2bD0f0Fa82413E">FruitNFT Smart Contract</Link>

- <Link className='text-primaryHue' isExternal showAnchorIcon href="https://github.com/huione-labs/docs/blob/main/public/zip/fruit.zip">FruitNFT Images</Link>

- <Link className='text-primaryHue' isExternal showAnchorIcon href="https://github.com/huione-labs/docs/blob/main/public/zip/FruitNFT_metadata.zip">FruitNFT Metadata</Link>

- Pinta URL: <Link className='text-primaryHue' isExternal showAnchorIcon href="https://blue-tricky-fly-90.mypinata.cloud/ipfs/QmfXqRkyu3qYdYz5zWaFTaHNYqPBtUY7Q7MWPiu3An377q/">FruitNFT Images</Link>„ÄÅ<Link className='text-primaryHue' isExternal showAnchorIcon href="https://blue-tricky-fly-90.mypinata.cloud/ipfs/QmZDGYkpsuegPP6Vy4ntrnZvAEVaXS3fPDY4KPzxq7JeEe/">Metadata</Link>
